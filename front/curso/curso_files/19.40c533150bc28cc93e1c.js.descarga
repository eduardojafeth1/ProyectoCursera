(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"/WoZ":function(module,n,e){"use strict";e.d(n,"a",(function(){return t}));var t=function(n){return n.PUBLIC="PUBLIC",n.ENTERPRISE="ENTERPRISE",n.PRIVATE="PRIVATE",n}({})},"2eWL":function(module,n,e){"use strict";e.d(n,"d",(function(){return getSortedSessions})),e.d(n,"b",(function(){return getDefaultEnrollableSessionId})),e.d(n,"a",(function(){return associatedSessionsAreFinal})),e.d(n,"c",(function(){return getLatestSelectableBranch})),e.d(n,"e",(function(){return pushBranchIdToUrl}));var t=e("3tO9"),r=e.n(t),i=e("FyPc"),o=e.n(i),u=(e("J2m7"),e("wd/R")),a=e.n(u),s=e("ibP9"),getSortedSessions=function(n){return Object.keys(n.associatedSessions).map((function(e){return Object.assign({},n.associatedSessions[e],{id:e})})).sort((function(n,e){return n.startedAt-e.startedAt}))},getDefaultEnrollableSessionId=function(n,e){if(!n.associatedSessions)return null;var t=function(n){if(!n.associatedSessions)return null;var e=Date.now();return Object.keys(n.associatedSessions).reduce((function(t,i){var o=n.associatedSessions[i];return!o.isPreview&&e>o.startedAt&&e<o.endedAt&&t.push(r()(r()({},o),{},{id:i,startedAt:a.a.utc(o.startedAt),endedAt:a.a.utc(o.endedAt),enrollmentEndedAt:a.a.utc(o.enrollmentEndedAt)})),t}),[]).sort((function(n,e){return n.startedAt-e.startedAt}))}(n);if(t&&t.length>0&&!e)return t[0].id;var i=getSortedSessions(n);if(i&&i[0]&&!e)return i[0].id;if(e){var o,u,s,c,d=null==t?void 0:t.find((function(n){return!n.isPrivate}));if(d)return d.id;var l=null==i?void 0:i.find((function(n){return!n.isPrivate}));return l?l.id:null!==(o=null!==(u=null==t?void 0:null===(s=t[0])||void 0===s?void 0:s.id)&&void 0!==u?u:null==i?void 0:null===(c=i[0])||void 0===c?void 0:c.id)&&void 0!==o?o:null}return null},associatedSessionsAreFinal=function(n){return n.filter((function(n){return n.enrollmentEndedAt>a()()})).length<=1},getLatestSelectableBranch=function(n){if(1===n.length)return n[0];var e=n.filter((function(n){return n.branchStatus!==s.b.ARCHIVED&&n.branchStatus!==s.b.CREATING}));return 0===e.length&&(e=n.filter((function(n){return n.branchStatus===s.b.ARCHIVED&&n.branchStatus!==s.b.CREATING}))),function(n){return 1===n.length?n[0]:o()(n,"createdAt")||n[0]}(e)},pushBranchIdToUrl=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.location,o=e.push,u=i.query;delete u.sessionId,delete u.groupId,delete u.agVersionId;var a=t?r()(r()({},u),{},{versionId:n,agVersionId:n}):r()(r()({},u),{},{versionId:n}),s=r()(r()({},i),{},{query:a});o(s)}},"8li0":function(module,n,e){"use strict";e.d(n,"b",(function(){return u}));var t=e("vaU+"),r=e("/WoZ"),i=e("tEn/"),o={isLaunched:function(n){return!!n.launchedAt&&n.launchedAt<=Date.now()},isPreEnrollmentEnabled:function(n){return!this.isLaunched(n)&&"preEnrollmentEnabledAt"in n},isSessionsModeEnabled:function(n){return void 0!==n.sessionsEnabledAt&&n.sessionsEnabledAt<=Date.now()},isVerificationEnabled:function(n){return!!n.verificationEnabledAt&&n.verificationEnabledAt<=Date.now()},isPrivate:function(n){return Object(t.g)(n)},isFullC4CPartner:function(n){var e=n.isC4CPartner,t=n.isPrivateAuthoringPartner;return e&&!t},getCourseCatalogType:function(n){var e=r.a.PUBLIC;return o.isPrivate(n)?e=r.a.PRIVATE:n.isLimitedToEnterprise&&(e=r.a.ENTERPRISE),e},isProject:function(n){return[i.a.PROJECT,i.a.RHYME_PROJECT].includes(n)},isPrivatelyAuthoredCourse:function(n,e){return o.getCourseCatalogType(n)===r.a.ENTERPRISE&&e.typeName===i.a.STANDARD_COURSE&&n.isLimitedToEnterprise&&n.isRestrictedMembership}};n.a=o;o.isLaunched,o.isPreEnrollmentEnabled,o.isSessionsModeEnabled,o.isVerificationEnabled,o.isPrivate,o.isFullC4CPartner;var u=o.getCourseCatalogType;o.isProject,o.isPrivatelyAuthoredCourse},FhYf:function(module,n,e){"use strict";e.d(n,"a",(function(){return changeUserEnrollment}));var t=e("fw5G"),r=e.n(t),i=e("S+eF"),o=e.n(i),u=e("DnuM"),a=e("sQ/U"),s=e("2eWL"),c=Object(u.a)("/api/viewAsLearnerInCourse.v1",{type:"rest"}),changeUserEnrollment=function(n,e){var t=e.courseId,i=e.sessionId,u=e.groupId,d=e.userCanSwitchGroups,l=e.selectDefaultSessionForBranch,f=e.findPublicSessionsIfPossible,E=e.newWindow,v=e.onCompleteChangeUserEnrollment,I=void 0===v?function(){}:v,h=e.branch,S=e.skipReloadWindow,b=void 0!==S&&S,P={userId:a.a.get().id,courseId:t,sessionId:l&&h?Object(s.b)(h,f):i,groupIds:d&&u?[u]:[]};o()(c.post((new r.a).addQueryParam("action","start").toString(),{data:P})).then((function(){b?I():((E||window).location.reload(),I())})).done()}},ibP9:function(module,n,e){"use strict";e.d(n,"b",(function(){return r})),e.d(n,"a",(function(){return i}));var t={storeNames:{BRANCHES_STORE:"BranchesStore",SESSIONS_STORE:"SessionsStore",COURSE_MATERIAL_STORE:"CourseMaterialStore"},branchStatus:{LIVE:"live",ARCHIVED:"archived",PENDING:"pending",NEW:"new",UPCOMING:"upcoming",CREATING:"creating"},ALL_BRANCHES:"ALL_BRANCHES"},r=t.branchStatus,i=t.ALL_BRANCHES},jPAi:function(module,n,e){"use strict";e.d(n,"a",(function(){return u}));var t=e("q1tI"),r=e("wC8J"),i=e("z3lc"),o=e.n(i),u={PRIVATE:"private",PUBLIC:"public",ORG:"org"};n.b=function(n){var e=n.type,i=n.style,u=n.customLabel,a={public:{label:o()("Public"),color:"highlight2"},private:{label:o()("Private"),color:"highlight2"},org:{label:o()("Your Org"),color:"highlight2"}}[e],s=a.label,c=a.color;return t.createElement(r.a,{priority:"secondary",variant:"category",color:c,style:i},u||s)}},"vaU+":function(module,n,e){"use strict";var t=e("3tO9"),r=e.n(t),i=e("dMi0"),o=e.n(i),u=(e("FyPc"),e("++Ya"),e("ibP9")),a=(e("tIJq"),e("/WoZ")),s=e("jQVW"),c=e("FhYf");e("sQ/U");function getRelativeUrl(n,e){return"/learn/".concat(n,"/").concat(e)}var d=e("jPAi");e("2aIb");e.d(n,"h",(function(){return contextUtils_viewContextAsLearner})),e.d(n,"a",(function(){return getContextByContextId})),e.d(n,"g",(function(){return shouldHideCatalogContexts})),e.d(n,"f",(function(){return contextUtils_isPrivateContext})),e.d(n,"d",(function(){return contextUtils_getContextType})),e.d(n,"c",(function(){return contextUtils_getContextIdFromContext})),e.d(n,"b",(function(){return getContextByEscapedContextId})),e.d(n,"e",(function(){return contextUtils_getIdForContextSwitcher}));var contextUtils_openNewWindowWithCourseSlug=function(n){return window.open(getRelativeUrl(n,"home/welcome"),"_blank")},contextUtils_viewContextAsLearner=function(n,e){var t=e.courseContext,i=e.branch,a=e.courseSlug,d=e.courseId,l=e.skipReloadWindow,f=void 0!==l&&l,E=e.useSameWindow,v=void 0!==E&&E,I=e.userCanSwitchGroups,h=void 0===I||I,S=e.specifiedGroupId,b=e.onCompleteChangeUserEnrollment,P=void 0===b?function(){}:b,C=t.typeName===s.a.PUBLIC_BRANCH,p={courseId:d,selectDefaultSessionForBranch:!0,branch:i,skipReloadWindow:f,userCanSwitchGroups:h,findPublicSessionsIfPossible:C};if(f?p.onCompleteChangeUserEnrollment=function(){P(),contextUtils_openNewWindowWithCourseSlug(a)}:p.newWindow=v?null:contextUtils_openNewWindowWithCourseSlug(a),t.typeName===s.a.SESSION_GROUP)p=r()(r()({},p),{},{sessionId:t.definition.sessionId,groupId:t.definition.groupId,selectDefaultSessionForBranch:!1});else if(C&&(i.branchStatus===u.b.NEW||i.branchStatus===u.b.UPCOMING)){var A=o()(i.associatedSessions,(function(n){return n.isPreview}))||null;p=r()(r()({},p),{},{selectDefaultSessionForBranch:!A,sessionId:A})}S&&(p.groupId=S),n.executeAction(c.a,p)},getContextByContextId=function(n,e){return n.find((function(n){var t=n.definition;return e.startsWith("group~")?t.groupId===e.split("group~")[1]:t.authoringCourseBranchId===e}))},shouldHideCatalogContexts=function(n){return!!n.isRestrictedMembership&&!n.isLimitedToEnterprise},contextUtils_isPrivateContext=function(n){return n!==s.a.PUBLIC_BRANCH},contextUtils_getContextType=function(n,e){return contextUtils_isPrivateContext(n)?d.a.PRIVATE:e===a.a.ENTERPRISE?d.a.ORG:d.a.PUBLIC},contextUtils_getContextIdFromContext=function(n){var e;switch(n.typeName){case s.a.SESSION_GROUP:e=n.definition.groupId;break;case s.a.PUBLIC_BRANCH:case s.a.PRIVATE_BRANCH:e=n.definition.authoringCourseBranchId;break;case s.a.SESSION_GROUP_CREATION_JOB:default:e=n.definition.creationId}return e},getContextByEscapedContextId=function(n,e){return e.find((function(e){return contextUtils_getContextIdFromContext(e)===n}))},contextUtils_getIdForContextSwitcher=function(n){var e=n.typeName===s.a.SESSION_GROUP?n.definition.groupId:null,t=n.definition.authoringCourseBranchId;return e?"group~".concat(e):t}}}]);
//# sourceMappingURL=19.40c533150bc28cc93e1c.js.map