(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{"jq+c":function(module,e,r){"use strict";r.r(e);var n,t=r("VbXa"),a=r.n(t),o=r("q1tI"),s=r("S+eF"),i=r.n(s),c=r("DnuM"),l=r("sQ/U"),u=r("F/us"),d=r.n(u),p=r("8kE/"),m=r("cVIm"),g=r("BVC1"),h="",f="undefined"!=typeof window&&window.location.pathname.match(/^(\/(?:learn-2018|learn|tools\/yoda|teach|certificate|finaid\/course))(?:\/([^\/]*))?/);f?(n=f[1],f.length>2&&void 0!==f[2]&&(h=f[2])):n="/learn";var E={config:m.a,courseId:void 0,rootPath:n,learnRoot:"/learn",learnCoursePath:g.a.join("/learn",h),courseHomePath:g.a.join("/learn",h,"/home"),teachRoot:"/teach/",openCourseApi:"/api/opencourse.v1",assessApi:"/api/assess/v1",assetApi:"/api/openCourseAssets.v1",programmingAssignmentApi:"/api/programmingAssignments.v1",openCourseMembershipApi:"/api/openCourseMemberships.v1",reportsApi:"/api/reports.v1",coursesApi:"/api/onDemandCourses.v1",forumsApi:"/api/onDemandDiscussionForums.v1",certificateApi:"/api/certificate.v1",supplementCompletionApi:"/api/onDemandSupplementCompletions.v1",supplementStartApi:"/api/onDemandSupplementStarts.v1",lectureVideosApi:"onDemandLectureVideos.v1",videoProgressesApi:"/api/onDemandVideoProgresses.v1",courseRootPath:g.a.join(n,h),courseSlug:h,courseRolesWithTeachAccess:["INSTRUCTOR","TEACHING_STAFF","UNIVERSITY_ADMIN","DATA_COORDINATOR"],courseRolesWithModeratorAccess:["INSTRUCTOR","TEACHING_STAFF","UNIVERSITY_ADMIN","DATA_COORDINATOR","MENTOR","COURSE_ASSISTANT"],onboardModalStorageKey:"showProfileModal:",items:{gradableTypes:["closedPeer","exam","gradedPeer","gradedProgramming","gradedLti","phasedPeer","programming","splitPeerReviewItem","staffGraded","gradedDiscussionPrompt","teammateReview","wiseFlow","placeholder"],assessmentTypes:["closedPeer","gradedPeer","phasedPeer","splitPeerReviewItem","quiz","assessOpenSinglePage","gradedProgramming","programming","ungradedProgramming","ungradedLti","ungradedWidget","gradedLti","peer","exam","staffGraded","ungradedAssignment","gradedDiscussionPrompt","teammateReview"]},assessments:{defaultPassingFraction:.8},assets:{rootPath:m.a.url.assets},upload:{transloadit:{templates:{programming:"1683d830c1dd11e4a63a499495d4cf0f"}}},signatureTrack:{photoDisapproved:-1,verificationSubmitDelay:1e3,transitionToWebcamDuration:3e3,firefoxWebcamHelpImage:g.a.join(m.a.url.assets,"/images/signature/firefox_html5_webcam_help.png"),chromeWebcamHelpImage:g.a.join(m.a.url.assets,"/images/signature/chrome_html5_webcam_help.png"),webcamConstraintImage:g.a.join(m.a.url.assets,"/images/webcam/face_placeholder_L.png"),webcamConstraintImageWidthPercent:16,webcamConstraintImageMarginPercent:20,keystroke:{errorAllowedPrefix:2,errorAllowedSuffix:5},verificationSteps:{keystrokes:"KeystrokeRecognition",webcam:"FaceRecognition",webcamManual:"Delayed",authenticated:"Success"},vcBannerImg:g.a.join(m.a.url.assets,"/images/open-course/cert_icon.png"),vcBannerImgLg:g.a.join(m.a.url.assets,"/images/open-course/cert_icon_lg.png")},gallery:{maxTitleLength:60},progressCompleted:"Completed",progressStarted:"Started",progressNotStarted:"NotStarted",vcLandingPagePath:g.a.join("/certificate",h),courseAdminPath:g.a.join("/teach",h),certLogoWithBlueBackground:g.a.join(m.a.url.assets,"/images/promos/cdp_cert_logo.png"),courseCertificateImage:"http://s3.amazonaws.com/coursera_assets/certificates/coursecertificate.png",verifiedCertificateImage:g.a.join(m.a.url.assets,"/images/signature/template-cert-small.png"),vcLandingBulletOne:g.a.join(m.a.url.assets,"/images/open-course/LandingPage_BulletedNumbers_01.png"),vcLandingBulletTwo:g.a.join(m.a.url.assets,"/images/open-course/LandingPage_BulletedNumbers_02.png"),vcLandingBulletThree:g.a.join(m.a.url.assets,"/images/open-course/LandingPage_BulletedNumbers_03.png"),vcLandingLinkedInLogo:g.a.join(m.a.url.assets,"/images/open-course/linkedin_logo.png"),vcLandingLearnerPhoto:g.a.join(m.a.url.assets,"/images/open-course/Peter.png"),vcLandingCourseRecord:g.a.join(m.a.url.assets,"/images/open-course/CourseRecord.png"),vcLandingCourseCertificateRecord:g.a.join(m.a.url.assets,"/images/open-course/CourseCertificateExample.png"),verifiedCertificatePreviewPath:"previewVerifiedCertificate",verifiedCertificateKeyType:"OnDemandWithoutGrade",videoAutoPlay:!0,videoEndPercentage:.9,defaultVideoPlayerWidth:"960px",defaultVideoPlayerHeight:"540px",defaultNormalBandwidthVideoPlayerResolution:"540p",defaultLowBandwidthVideoPlayerResolution:"360p",lowBandwidthCountries:["CN","IN"],videoPlayerAspectRatio:9/16,videoPlayerMinHeight:240,videoStartPlaybackDelay:3,adminButtonsTopMargin:30,adminJsonEditorDivTopMargin:40,showLessonProgressBar:{development:["childnutrition"],staging:["childnutrition"],production:["competitivestrategy"]},completionExperiment:{development:["childnutrition"],staging:["childnutrition"],production:["calculus1"]},lockedAssessments:["dUNIFe9gEeSIIyIAC7LOhg"],courseTypes:{s12nPreEnroll:"s12nPreEnroll",s12nSession:"s12nSession",s12nOnDemand:"s12nOnDemand",preEnroll:"preEnroll",sessions:"sessions",certOnDemand:"certOnDemand",onDemand:"onDemand"},itemLockedReasonCodes:{PREMIUM:"PREMIUM",RESIT:"RESITTING_ITEM_LOCK_OVERRIDE",PASSABLE_ITEM_COMPLETION:"PASSABLE_ITEM_COMPLETION",PREMIUM_ITEM:"PREMIUM_ITEM",SESSION_PREVIEW:"SESSION_PREVIEW",SESSION_ENDED:"SESSION_ENDED",ENROLLMENT_PREVIEW:"ENROLLMENT_PREVIEW",TIMED_RELEASE_CONTENT:"TIMED_RELEASE_CONTENT"},itemLockedStatus:{LOCKED_FOR_SUBMITTING:"LOCKED_FOR_SUBMITTING",LOCKED_FULLY:"LOCKED_FULLY"},itemLockInfoTypeNames:{timedReleaseContentLockInfo:"timedReleaseContentLockInfo"},transifexProjectBaseUrl:"https://www.transifex.com/projects/p/"},v=E,w=r("TSOT"),L=Object(w.a)(v.coursesApi,{type:"rest"}),I=r("uJqh"),R=r("PJYZ"),b=r.n(R),S=r("oShl"),T=function(e){function JSApplicationError(r){var n;return(n=e.call(this)||this).context=null,Error.captureStackTrace&&Error.captureStackTrace(b()(n),JSApplicationError),n.name="JSApplicationError",n.message=r,n.context=null,n.detail=null,n}return a()(JSApplicationError,e),JSApplicationError.fromError=function(e){var r;if("string"==typeof e)r=new JSApplicationError(e);else if(null!=e)if(null!=e.message)(r=new JSApplicationError(e.message)).stack=e.stack,r.detail=Object.assign({},e);else try{var n=JSON.stringify(e);r=new JSApplicationError("Object thrown as error: ".concat(n,". Please throw an actual Error instead."))}catch(n){r="TypeError"===n.name?new JSApplicationError("Cyclic object thrown/rejected as an error. Please throw an actual Error instead."):new JSApplicationError("Object thrown as error (".concat(e,") that could not be stringified (").concat(n,"). Please throw an actual Error instead."))}else r=new JSApplicationError("`undefined` or `null` thrown/rejected. Did you mean to throw/reject an Error object?");return r},JSApplicationError}(r.n(S)()(Error)),A=["instructorIds","partnerIds","_links"].join(","),C=["brandingImage","certificatePurchaseEnabledAt","partners.v1(squareLogo,rectangularLogo)","instructors.v1(fullName)","overridePartnerLogos","sessionsEnabledAt","domainTypes","premiumExperienceVariant","isRestrictedMembership"].join(","),courseData_getCourse=function(e){if(!e.elements)throw new T("Course data missing from response");var r=e.elements[0];return r.instructors=d()(r.instructorIds).map((function(r){return e.getLinkedObject("instructors.v1",r)})),r.universities=d()(r.partnerIds).map((function(r){return e.getLinkedObject("partners.v1",r)})),r},y={fromSlug:Object(p.a)((function(e){return e?i()(L.get("",{data:{q:"slug",slug:e&&e.toLowerCase(),includes:A,fields:C}})).then(I.a).then(courseData_getCourse):i.a.reject("Missing courseSlug argument")})),fromId:Object(p.a)((function(e){return e?i()(L.get(e,{data:{includes:A,fields:C}})).then(I.a).then(courseData_getCourse):i.a.reject("Missing courseId argument")}))},N=r("fw5G"),P=r.n(N),O=Object(w.a)(v.openCourseMembershipApi,{type:"rest"}),D=r("welz"),j=r.n(D),k=r("vlZc"),M=r.n(k),B=r("qiY+"),W=M.a.AssociatedModel.extend({api:O,defaults:function(){return{timestamp:Date.now()}},initialize:function(e){if(!d()(e).has("courseId"))throw new Error("You must instantiate a Membership with a courseId");this.get("userId")||this.set("userId",e.userId||l.a.get().id),d()(e).has("id")||this.set("id",this.get("userId")+"~"+this.get("courseId"),{silent:!0})},hasTeachingRole:function(){return d()(v.courseRolesWithTeachAccess).contains(this.get("courseRole").toUpperCase())},hasModerationRole:function(){return d()(v.courseRolesWithModeratorAccess).contains(this.get("courseRole").toUpperCase())},hasEnrolledRole:function(){return!d()([B.a.BROWSER,B.a.NOT_ENROLLED,B.a.PRE_ENROLLED_LEARNER]).contains(this.get("courseRole"))},hasPreEnrolled:function(){return this.get("courseRole")===B.a.PRE_ENROLLED_LEARNER},enroll:function(e){this.set("courseRole",e||B.a.LEARNER);var r={data:this.toJSON()};return i()(this.api.post("",r))},unenroll:function(){return this.set("courseRole",B.a.NOT_ENROLLED),i()(this.api.delete(this.get("id")))}},B.a),x=j.a.Collection.extend({model:W,getEnrolled:function(){return this.filter((function(e){return e.get("courseRole")!==W.NOT_ENROLLED}))}}),promises_memberships=function(e){var r=function(e){var r=(new P.a).addQueryParam("q","findByUser").addQueryParam("userId",e);return i()(O.get(r.toString()))}(e).then((function(e){return new x(e.elements)}));return r.done(),r},V=r("8li0"),J=Object(c.a)("/api/reports.v1",{type:"rest"}),U="teachVisitedAt",F=10080;function getBannerData(){return function(){var e=l.a.get().id;if(!e)return i.a.reject();return promises_memberships(e).then((function(e){var r=e.find((function(e){return e.hasTeachingRole()}));if(r&&"UNIVERSITY_ADMIN"!==r.get("courseRole")){var n=r.get("courseId");return[r,y.fromId(n)]}return i.a.reject()})).spread((function(e,r){return V.a.isLaunched(r)?[e,r]:i.a.reject()}))}().spread((function(e,r){return[e,r,getLearnerCounts(e,r)]}))}function shouldShow(){var e=localStorage[U];if(e){var r=new Date(parseInt(e)),n=new Date(Date.now());return 60*n.getHours()+n.getMinutes()-(60*r.getHours()+r.getMinutes())>F}return!0}function getLearnerCounts(e,r){return i()(J.get("Course~".concat(r.id,"~activity_learner_counts"))).then((function(n){return function(e){return e.elements&&e.elements[0]&&e.elements[0].body&&e.elements[0].body.latest&&e.elements[0].body.latest.starter_ever_count&&e.elements[0].body.latest.active_learner_past_1w_count&&e.elements[0].body.latest.visitor_ever_count&&e.elements[0].body["1w_ago"]&&e.elements[0].body["1w_ago"].starter_ever_count}(n)?n.elements[0].body:i.a.reject({membership:e,course:r})}))}r("wab5");var q,G=r("17x9"),H=r.n(G),K=r("kvW3"),Y=function(e){function TotalLearnerBanner(){return e.apply(this,arguments)||this}return a()(TotalLearnerBanner,e),TotalLearnerBanner.prototype.render=function(){var e=this.props.course,r=e.name,n="/teach/".concat(e.slug),t=this.props.learnerCounts.latest.visitor_ever_count;return o.createElement("div",{className:"rc-TotalLearnerBanner"},"A total of"," ",o.createElement("a",{href:n},o.createElement("strong",{className:"c-teach-banner-learner-count"},o.createElement(K.c,{value:t})," learners"))," ","are enrolled in ",o.createElement("span",{className:"c-teach-banner-course-name"},r),". View more on the"," ",o.createElement("a",{href:n},q||(q=o.createElement("strong",null,"Course Dashboard."))))},TotalLearnerBanner}(o.Component);Y.propTypes={course:H.a.object.isRequired,learnerCounts:H.a.object.isRequired};var z,Q=Y,Z=function(e){function WeeklyActiveLearnerBanner(){return e.apply(this,arguments)||this}return a()(WeeklyActiveLearnerBanner,e),WeeklyActiveLearnerBanner.prototype.render=function(){var e=this.props.course,r=e.name,n="/teach/".concat(e.slug),t=this.props.learnerCounts.latest.active_learner_past_1w_count;return o.createElement("div",{className:"rc-WeeklyActiveLearnerBanner"},o.createElement("a",{href:n},o.createElement("strong",{className:"c-teach-banner-learner-count"},o.createElement(K.c,{value:t})," learners"))," ","were active in ",o.createElement("span",{className:"c-teach-banner-course-name"},r)," in the past week. View more on the"," ",o.createElement("a",{href:n},z||(z=o.createElement("strong",null,"Course Dashboard."))))},WeeklyActiveLearnerBanner}(o.Component);Z.propTypes={course:H.a.object.isRequired,learnerCounts:H.a.object.isRequired};var X,ee=Z,re=function(e){function WeeklyNewLearnerBanner(){return e.apply(this,arguments)||this}return a()(WeeklyNewLearnerBanner,e),WeeklyNewLearnerBanner.prototype.render=function(){var e,r=this.props.course,n=r.name,t="/teach/".concat(r.slug),a=(e=this.props.learnerCounts).latest.starter_ever_count-e["1w_ago"].starter_ever_count;return o.createElement("div",{className:"rc-WeeklyNewLearnerBanner"},o.createElement("a",{href:t},o.createElement("strong",{className:"c-teach-banner-learner-count"},o.createElement(K.c,{value:a})," learners"))," ","enrolled in ",o.createElement("span",{className:"c-teach-banner-course-name"},n)," in the past week. View more on the"," ",o.createElement("a",{href:t},X||(X=o.createElement("strong",null,"Course Dashboard."))))},WeeklyNewLearnerBanner}(o.Component);re.propTypes={course:H.a.object.isRequired,learnerCounts:H.a.object.isRequired};var ne,te,ae=[{key:"weeklyActiveLearner",component:ee},{key:"weeklyNewLearner",component:re},{key:"totalLearner",component:Q}],oe=function(e){function TeachBanner(){for(var r,n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];return(r=e.call.apply(e,[this].concat(t))||this).state={course:null,membership:null,learnerCounts:{},bannerIndex:-1,dismissed:!1},r.handleDismiss=function(){localStorage[U]=Date.now(),r.setState({dismissed:!0})},r}a()(TeachBanner,e);var r=TeachBanner.prototype;return r.componentDidMount=function(){var e=this;getBannerData().spread((function(r,n,t){var a=Math.round(Math.random()*(ae.length-1));e.setState({course:n,membership:r,learnerCounts:t,bannerIndex:a})})).catch((function(){})).done()},r.renderBanner=function(){var e=ae[this.state.bannerIndex].component;return(o.createElement(e,{course:this.state.course,learnerCounts:this.state.learnerCounts}))},r.render=function(){return this.state.course&&!this.state.dismissed&&shouldShow()?o.createElement("div",{className:"rc-TeachBanner bt3-alert bt3-alert-info bt3-alert-dismissable"},o.createElement("div",{className:"c-teach-banner-content"},o.createElement("button",{onClick:this.handleDismiss,className:"bt3-close","data-dismiss":"alert","aria-label":"Close"},te||(te=o.createElement("span",{"aria-hidden":"true"},"×"))),this.renderBanner())):ne||(ne=o.createElement("div",null))},TeachBanner}(o.Component);e.default=oe},uJqh:function(module,e,r){"use strict";r.d(e,"a",(function(){return handleResponse}));var n=r("OFL0"),t=r.n(n),a=r("J2m7"),o=r.n(a),s=r("3WF5"),i=r.n(s),c=r("O7iK"),l=r.n(c);function handleResponse(e){var r;return e&&e.linked&&(r=l()(i()(e.linked,(function(r,n){return[n,function(r){return o()(e.linked[n],{id:r})}]})))),{elements:e.elements,getLinkedObject:function(e,n){return r&&t()(r,e)?r[e](n):null},paging:e.paging}}},wab5:function(module,exports,e){e("xTv4")},xTv4:function(module,exports,e){}}]);
//# sourceMappingURL=33.5bbe5ff9231a8599833c.js.map